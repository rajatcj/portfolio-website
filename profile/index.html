<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- <link href="http://fonts.cdnfonts.com/css/whitney-2" rel="stylesheet" /> -->
    <link rel="stylesheet" href="./assets/css/style.css" />
    <title>Discord Profile Card</title>
    <script src="https://kit.fontawesome.com/19746ffdef.js" crossorigin="anonymous"></script>
  
    <link rel="stylesheet" href="style.css">
        <script src="lanyard.js"></script>
        <!-- everything important in here -->
        <script src="init.js"></script>
  </head>
  <body>
    <div class="card-container">
      <div class="card">
        <div class="card-header">
          <div
            style="background: url('./assets/img/banner.gif')"
            class="banner-image"
          ></div>
          <div class="infos">
            <a href="https://discord.com/users/754033245972201612" target="_blank"><div class="profil-logo">
              <img src="https://api.lanyard.rest/754033245972201612.jpg" />
            </div></a>

            <div class="status-container">
              <div id="discorduser.desktop"></div>
              <div id="discorduser.mobile"></div>
              <div id="discorduser.web"></div>
              <div id="discorduser.spotify"></div>
            </div>

            <div class="badges-container">
              <div class="badge-item">
                <img src="./assets/img/badges/brilliance.png" alt="" />
                <div class="tooltip tooltip-up">HypeSquad Brilliance</div>
              </div>
              <div class="badge-item">
                <img src="./assets/img/badges/devbot.webp" alt="" />
                <div class="tooltip tooltip-up">Verified Bot Developer</div>
              </div>
              <div class="badge-item">
                <img src="./assets/img/badges/moderator.webp" alt="" />
                <div class="tooltip tooltip-up">Discord Moderator</div>
              </div>
              <div class="badge-item">
                <img src="./assets/img/badges/nitro.webp" alt="" />
                <div class="tooltip tooltip-up">Nitro Subscriber</div>
              </div>
              
            </div>
            
            <div class="username" id="discorduser.name">Rajat<span>#1004</span></div>
            <hr>
            
          </div>
            
        </div>
        
        <div class="card-content">
          
          <div class="card-status">
            <span id="discorduser.emoji"></span><span id="discorduser.status"></span>
            
          <hr>
          </div>
          <div class="about-me">
            <div class="category-title">About Me</div>
            <p>Life is like a hurricane, here in duckburg.. Racecars Lasers Airplanes, its a, duckblur... Might solve a mystery.. or rewrite history? DuckTales, Woo wo</p>
            
          </div>
          <div class="roles">
            <div class="category-title">Roles</div>
            <div class="roles-list">
              <div class="role">
                <div class="color" style="background: red"></div>
                Site Admin
              </div>
              <div class="role">
                <div class="color" style="background: rgb(245, 215, 80)"></div>
                Botuu Developer
              </div>
            </div>
          </div>
          <div class="roles">
            <div class="category-title">Activity</div>
            <div id="activitycard">
            </div>
          </div>
          <div class="note">
            <div class="category-title">Note</div>
            <textarea placeholder="Tap to add a note"></textarea>
          </div>
        </div>
        <div class="card-footer">
          <form class="send-message" action="https://aoijsforbotu.secretrajatrepl.repl.co/message" method="get">
            <input type="text" name="msg" id="msg" placeholder="Send a secret message to Rajat" />
          </form>
        </div>
      </div>
      
      
    </div>
    <script src="./assets/js/jquery.js"></script>
    <script src="./assets/js/main.js"></script>
    <script src="https://sybraxdesign.fr/api/github/main.js"></script>


    <script>
      // JSON - JavaScript Object Notation
      fetch("https://api.lanyard.rest/v1/users/754033245972201612")
            .then(response => response.json())
            .then(data => {
                document.getElementById("discorduser.name").innerHTML=`${data.data.discord_user.username}<span>#${data.data.discord_user.discriminator}</span>`;
                
                if (data.data.discord_status === `idle`) {
                if (data.data.active_on_discord_desktop) {
                  document.getElementById("discorduser.desktop").innerHTML=`<div class="status-item"><i style="color:#faa81a;" class="fa-solid fa-display"></i>
                <div class="tooltip tooltip-up">Idle on Desktop</div></div>`;
                }

                if (data.data.active_on_discord_mobile) {
                  document.getElementById("discorduser.mobile").innerHTML=`<div class="status-item"><i style="color:#faa81a;" class="fa-solid fa-mobile"></i>
                <div class="tooltip tooltip-up">Idle on Mobile</div></div>`;
                }

                if (data.data.active_on_discord_web) {
                  document.getElementById("discorduser.web").innerHTML=`<div class="status-item"><i style="color:#faa81a;" class="fa-solid fa-globe"></i>
                <div class="tooltip tooltip-up">Idle on Browser</div></div>`;
                }
              }

              if (data.data.discord_status === `online`) {
                if (data.data.active_on_discord_desktop) {
                  document.getElementById("discorduser.desktop").innerHTML=`<div class="status-item"><i style="color:#3ba55d;" class="fa-solid fa-display"></i>
                <div class="tooltip tooltip-up">Online on Desktop</div></div>`;
                }

                if (data.data.active_on_discord_mobile) {
                  document.getElementById("discorduser.mobile").innerHTML=`<div class="status-item"><i style="color:#3ba55d;" class="fa-solid fa-mobile"></i>
                <div class="tooltip tooltip-up">Online on Mobile</div></div>`;
                }

                if (data.data.active_on_discord_web) {
                  document.getElementById("discorduser.web").innerHTML=`<div class="status-item"><i style="color:#3ba55d;" class="fa-solid fa-globe"></i>
                <div class="tooltip tooltip-up">Online on Browser</div></div>`;
                }
              }
              if (data.data.discord_status === `dnd`) {
                if (data.data.active_on_discord_desktop) {
                  document.getElementById("discorduser.desktop").innerHTML=`<div class="status-item"><i style="color:#ed4245;" class="fa-solid fa-display"></i>
                <div class="tooltip tooltip-up">DND on Desktop</div></div>`;
                }

                if (data.data.active_on_discord_mobile) {
                  document.getElementById("discorduser.mobile").innerHTML=`<div class="status-item"><i style="color:#ed4245;" class="fa-solid fa-mobile"></i>
                <div class="tooltip tooltip-up">DND on Mobile</div></div>`;
                }

                if (data.data.active_on_discord_web) {
                  document.getElementById("discorduser.web").innerHTML=`<div class="status-item"><i style="color:#ed4245;" class="fa-solid fa-globe"></i>
                <div class="tooltip tooltip-up">DND on Browser</div></div>`;
                }
              }
              if (data.data.discord_status === `offline`) {
                  document.getElementById("discorduser.desktop").innerHTML=`<div class="status-item"><i style="color:#747f8d;" class="fa-solid fa-circle"></i>
                <div class="tooltip tooltip-up">Offline</div></div>`;
              }
              

              if (data.data.listening_to_spotify) {
                document.getElementById("discorduser.spotify").innerHTML=`<div class="status-item"><i style="font-size: 13px; color:#1ed760;" class="fa-brands fa-spotify"></i>
                <div class="tooltip tooltip-up">Listening to Spotify</div></div>`;
                document.getElementById("activitycard").innerHTML=`<div id="activities" width="100%"></div>`;
              } else {
                document.getElementById("activitycard").innerHTML=`<img src="https://lanyard.cnrad.dev/api/754033245972201612?animated=true&hideBadges=true&hideDiscrim=true&hideStatus=true&idleMessage=NO+CURRENT+ACTIVITY&bg=00000000&theme=dark" width="99%" alt="Discord Live Activity Presence" />`;
              }

              if (data.data.activities[0].id === `custom`) {
                  document.getElementById("discorduser.status").innerHTML=`${data.data.activities[0].state}<br><br>`;
                  if (data.data.activities[0].emoji.animated === false) {
                      document.getElementById("discorduser.emoji").innerHTML=`<img src="https://cdn.discordapp.com/emojis/${data.data.activities[0].emoji.id}.webp" width="15"> `;
                  } else if (data.data.activities[0].emoji.animated === true) {
                      document.getElementById("discorduser.emoji").innerHTML=`<img src="https://cdn.discordapp.com/emojis/${data.data.activities[0].emoji.id}.gif?size=40" width="15"> `;
                  } else {
                      document.getElementById("discorduser.emoji").innerHTML=`${data.data.activities[0].emoji.name} `;
                  }
              }

                })
    </script>
    
     
     <script>
      // loop to constantly update the details of the activities even if no change was made (for example, time elapsed)
      var i = 1;

      function loop() {
          setTimeout(function() {
              updatepresence();
              
              i++;
              if (i < 500) {
                  loop();
              }
          }, 5000)
      }

      loop();
  </script>

  </body>
</html>
